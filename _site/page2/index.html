<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Philomathy &#8211; Aaron Addleman</title>
<meta name="description" content="The blog by Aaron Addleman">
<meta name="keywords" content="">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:4000/images/11788942253_6c55c0f770_o.jpg">

<meta name="twitter:title" content="Philomathy">
<meta name="twitter:description" content="The blog by Aaron Addleman">
<meta name="twitter:creator" content="@aaronaddleman">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Philomathy">
<meta property="og:description" content="The blog by Aaron Addleman">
<meta property="og:url" content="http://localhost:4000/page2/index.html">
<meta property="og:site_name" content="Aaron Addleman">





<link rel="canonical" href="http://localhost:4000/page2/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Aaron Addleman Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
<link rel="stylesheet" href="http://localhost:4000/css/uv/eiffel.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://localhost:4000">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://localhost:4000/images/avatar.jpg" alt="Aaron Addleman photo" class="author-photo">
					<h4>Aaron Addleman</h4>
					<p>Nerd and geek with passion for learning and exploring.</p>
				</li>
				<li><a href="http://localhost:4000/about/">Learn More</a></li>
				<li>
					<a href="mailto:aaronaddleman@gmail.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/aaronaddleman"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://facebook.com/aaronaddleman"><i class="fa fa-facebook"></i> Facebook</a>
				</li>
				
				
				<li>
					<a href="http://github.com/aaronaddleman"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://localhost:4000/posts/">All Posts</a></li>
				<li><a href="http://localhost:4000/tags/">All Tags</a></li>
			</ul>
		</li>
		<li><a href="http://localhost:4000/resume">Resume</a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="">Aaron Addleman</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="http://localhost:4000/images/11788942253_6c55c0f770_o.jpg" alt="Philomathy">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Aaron Addleman</h1>
      <h2>Philomathy</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-06-18T00:00:00-07:00"><a href="http://localhost:4000/articles/add-syntax-to-textpow-for-ultraviolet/">June 18, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://localhost:4000/articles/add-syntax-to-textpow-for-ultraviolet/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/articles/add-syntax-to-textpow-for-ultraviolet/" rel="bookmark" title="Add new syntax into Nestacms for use with Ultraviolet and Textpow" itemprop="url">Add new syntax into Nestacms for use with Ultraviolet and Textpow</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Flags: draft</p>

<h1 id="add-new-syntax-into-nestacms-for-use-with-ultraviolet-and-textpow">Add new syntax into Nestacms for use with Ultraviolet and Textpow</h1>

<h2 id="how-to-start">How to start</h2>

<p>Make sure you have all the necessary changes to Nestacms for <a href="/articles/rack-codehighligher">Setting up rack-codehighligher with Nestacms</a>.</p>

<h2 id="converting-a-textmate-syntax-bundle">Converting a Textmate Syntax bundle</h2>

<p>Download the bundle (usually from a github respository) to get ready for conversion. Once you have the <code>Language.tmLanguage</code> convert the language file to a yaml file which should end up with a file name like <code>source.Language.syntax</code> by using this command:</p>

<pre><code>:::shell
plist2yaml Language.tmLanguage &gt; source.Language.syntax
</code></pre>

<p>If you get an error like the following you need to be inside the <code>Language.tmbundle/Syntaxes</code> directory where the <code>.tmLanuage</code> file is located:</p>

<pre><code>:::shell
/Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/plist-3.1.0/lib/plist/parser.rb:67:in `read': Is a directory - Varnish.tmbundle (Errno::EISDIR)
  from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/plist-3.1.0/lib/plist/parser.rb:67:in `initialize'
  from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/plist-3.1.0/lib/plist/parser.rb:28:in `new'
  from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/plist-3.1.0/lib/plist/parser.rb:28:in `parse_xml'
  from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/textpow-1.3.0/bin/plist2yaml:7:in `&lt;top (required)&gt;'
  from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/bin/plist2yaml:19:in `load'
  from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/bin/plist2yaml:19:in `&lt;main&gt;'
  from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `eval'
  from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `&lt;main&gt;'
</code></pre>

<h2 id="load-the-syntax-file-into-nestacms">Load the syntax file into Nestacms</h2>

<p>By adding the following code into your app.rb file the syntax will be available:</p>

<pre><code>:::ruby
Textpow::SyntaxNode.load(File.expand_path('public/syntaxes/source.vcl.syntax', Nesta::App.root))
</code></pre>

<h2 id="use-the-syntax-on-you-files">Use the syntax on you files</h2>

<p>To apply the syntax I came up with some code for printing code from the <code>app.rb</code> file by making this method:</p>

<pre><code>:::ruby
# load custom syntaxes
Textpow::SyntaxNode.load(File.expand_path('public/syntaxes/source.vcl.syntax', Nesta::App.root))

def print_code(opt={})
  filename = opt[:filename]
  theme = opt[:theme] || "brilliance_black"
  syntax = opt[:syntax]
  show_code = opt[:show_code] || true

  text = File.read(Dir.pwd + '/public/' + filename)
  processor = Textpow::RecordingProcessor.new
  result = Uv.parse( text, "xhtml", syntax, false, "eiffel")

  haml(:print_code, :layout =&gt; false, :locals =&gt; { :code =&gt; result, :filename =&gt; filename })

  case show_code
  when true
    return haml(:print_code, :layout =&gt; false, :locals =&gt; { :code =&gt; result, :filename =&gt; filename })
  when false
    return download_link
  end
end
</code></pre>

<p>Now when you want to call some code, make a <code>haml</code> file and include the file with the following:</p>

<pre><code>:::shell
= print_code("file_with_language.vcl")
</code></pre>

<h1 id="notes">Notes</h1>

<p>To list the availble syntaxes:</p>

<pre><code>:::shell
uv --list syntaxes
</code></pre>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-06-18T00:00:00-07:00"><a href="http://localhost:4000/articles/add-new-syntax-into-nestacms-with-ultraviolet-and-textpow/">June 18, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://localhost:4000/articles/add-new-syntax-into-nestacms-with-ultraviolet-and-textpow/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/articles/add-new-syntax-into-nestacms-with-ultraviolet-and-textpow/" rel="bookmark" title="Add new syntax into Nestacms for use with Ultraviolet and Textpow" itemprop="url">Add new syntax into Nestacms for use with Ultraviolet and Textpow</a></h1>
    
  </header>
  <div class="entry-content">
    <h2 id="how-to-start">How to start</h2>

<p>Make sure you have all the necessary changes to Nestacms for <a href="/articles/rack-codehighligher">Setting up rack-codehighligher with Nestacms</a>.</p>

<h2 id="converting-a-textmate-syntax-bundle">Converting a Textmate Syntax bundle</h2>

<p>Download the bundle (usually from a github respository) to get ready for conversion. Once you have the <code>Language.tmLanguage</code> convert the language file to a yaml file which should end up with a file name like <code>source.Language.syntax</code> by using this command:</p>

<pre class="eiffel">plist2yaml Language.tmLanguage <span class="Keyword">&gt;</span> source.Language.syntax</pre>

<p>If you get an error like the following you need to be inside the <code>Language.tmbundle/Syntaxes</code> directory where the <code>.tmLanuage</code> file is located:</p>

<pre class="eiffel">/Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/plist-3.1.0/lib/plist/parser.rb:67:<span class="Keyword">in</span> <span class="String"><span class="String">`</span>read&#39;: Is a directory - Varnish.tmbundle (Errno::EISDIR)</span>
<span class="String">      from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/plist-3.1.0/lib/plist/parser.rb:67:in <span class="String">`</span></span>initialize<span class="String"><span class="String">&#39;</span></span>
<span class="String">      from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/plist-3.1.0/lib/plist/parser.rb:28:in `new<span class="String">&#39;</span></span>
      from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/plist-3.1.0/lib/plist/parser.rb:28:<span class="Keyword">in</span> <span class="String"><span class="String">`</span>parse_xml&#39;</span>
<span class="String">      from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/gems/textpow-1.3.0/bin/plist2yaml:7:in <span class="String">`</span></span><span class="Keyword">&lt;</span>top (required)<span class="Keyword">&gt;</span><span class="String"><span class="String">&#39;</span></span>
<span class="String">      from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/bin/plist2yaml:19:in `load<span class="String">&#39;</span></span>
      from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/bin/plist2yaml:19:<span class="Keyword">in</span> <span class="String"><span class="String">`</span>&lt;main&gt;&#39;</span>
<span class="String">      from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in <span class="String">`</span></span>eval<span class="String"><span class="String">&#39;</span></span>
<span class="String">      from /Users/aaron/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `&lt;main&gt;<span class="String">&#39;</span></span></pre>

<h2 id="load-the-syntax-file-into-nestacms">Load the syntax file into Nestacms</h2>

<p>By adding the following code into your app.rb file the syntax will be available:</p>

<pre class="eiffel"><span class="LibraryObject">Textpow</span>::<span class="FunctionName">SyntaxNode</span>.<span class="FunctionName">load</span>(<span class="LibraryObject">File</span>.<span class="FunctionName">expand_path</span>(<span class="String"><span class="String">&#39;</span>public/syntaxes/source.vcl.syntax<span class="String">&#39;</span></span>, <span class="LibraryObject">Nesta</span>::<span class="FunctionName">App</span>.<span class="FunctionName">root</span>))</pre>

<h2 id="use-the-syntax-on-you-files">Use the syntax on you files</h2>

<p>To apply the syntax I came up with some code for printing code from the <code>app.rb</code> file by making this method:</p>

<pre class="eiffel"><span class="Comment"><span class="Comment">#</span> load custom syntaxes</span>
    <span class="LibraryObject">Textpow</span>::<span class="FunctionName">SyntaxNode</span>.<span class="FunctionName">load</span>(<span class="LibraryObject">File</span>.<span class="FunctionName">expand_path</span>(<span class="String"><span class="String">&#39;</span>public/syntaxes/source.vcl.syntax<span class="String">&#39;</span></span>, <span class="LibraryObject">Nesta</span>::<span class="FunctionName">App</span>.<span class="FunctionName">root</span>))

    <span class="Keyword">def</span> <span class="FunctionName">print_code</span>(<span class="FunctionParameter">opt<span class="Keyword">=</span><span class="FunctionParameter">{</span><span class="FunctionParameter">}</span></span>)
      filename <span class="Keyword">=</span> opt[<span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>filename</span>]
      theme <span class="Keyword">=</span> opt[<span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>theme</span>] <span class="Keyword">||</span> <span class="String"><span class="String">&quot;</span>brilliance_black<span class="String">&quot;</span></span>
      syntax <span class="Keyword">=</span> opt[<span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>syntax</span>]
      show_code <span class="Keyword">=</span> opt[<span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>show_code</span>] <span class="Keyword">||</span> <span class="BuiltInConstant">true</span>

      text <span class="Keyword">=</span> <span class="LibraryObject">File</span>.<span class="FunctionName">read</span>(<span class="LibraryObject">Dir</span>.<span class="FunctionName">pwd</span> <span class="Keyword">+</span> <span class="String"><span class="String">&#39;</span>/public/<span class="String">&#39;</span></span> <span class="Keyword">+</span> filename)
      processor <span class="Keyword">=</span> <span class="LibraryObject">Textpow</span>::<span class="FunctionName">RecordingProcessor</span>.<span class="FunctionName">new</span>
      result <span class="Keyword">=</span> <span class="LibraryObject">Uv</span>.<span class="FunctionName">parse</span>( text, <span class="String"><span class="String">&quot;</span>xhtml<span class="String">&quot;</span></span>, syntax, <span class="BuiltInConstant">false</span>, <span class="String"><span class="String">&quot;</span>eiffel<span class="String">&quot;</span></span>)

      <span class="FunctionName">haml</span>(<span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>print_code</span>, <span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>layout</span> =&gt; <span class="BuiltInConstant">false</span>, <span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>locals</span> =&gt; { <span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>code</span> =&gt; result, <span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>filename</span> =&gt; filename })

      <span class="Keyword">case</span> show_code
      <span class="Keyword">when</span> <span class="BuiltInConstant">true</span>
        <span class="Keyword">return</span> <span class="FunctionName">haml</span>(<span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>print_code</span>, <span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>layout</span> =&gt; <span class="BuiltInConstant">false</span>, <span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>locals</span> =&gt; { <span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>code</span> =&gt; result, <span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>filename</span> =&gt; filename })
      <span class="Keyword">when</span> <span class="BuiltInConstant">false</span>
        <span class="Keyword">return</span> download_link
      <span class="Keyword">end</span>
    <span class="Keyword">end</span></pre>

<p>Now when you want to call some code, make a <code>haml</code> file and include the file with the following:</p>

<pre class="eiffel">= print_code(<span class="String"><span class="String">&quot;</span>file_with_language.vcl<span class="String">&quot;</span></span>)</pre>

<pre class="eiffel">function <span class="FunctionName">inthefile</span>() {
  export set VAR=<span class="String"><span class="String">&quot;</span>this code is inside the article<span class="String">&quot;</span></span>
}</pre>

<h1 id="notes">Notes</h1>

<p>To list the availble syntaxes:</p>

<pre class="eiffel">uv --list syntaxes</pre>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-05-30T00:00:00-07:00"><a href="http://localhost:4000/articles/monitoring-log-files-visually/">May 30, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://localhost:4000/articles/monitoring-log-files-visually/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/articles/monitoring-log-files-visually/" rel="bookmark" title="Monitoring log files visually with logstalgia or gltail" itemprop="url">Monitoring log files visually with logstalgia or gltail</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="monitoring-log-files-visually-with-logstalgia-or-gltail">Monitoring log files visually with logstalgia or gltail</h1>

<p>Log files can sometimes get boring. But monitoring them visually can make them awesome. There are two tools that I have found which provide a visual look at log files: <strong><a href="https://code.google.com/p/logstalgia/">logstalgia</a></strong> or <strong><a href="http://www.fungie.org">gltail</a></strong>.</p>

<h1 id="logstalgia">Logstalgia</h1>
<p>## Summary
Very cool program that takes the log file and sets up two columns on the far left and far right. On the far left is the host who has requested the resource and a small round ball goes across to the right column. On the right column is the resource that the host has requested while the ball size represents the size of the request. When the ball moves across the screen and reaches the right side column the status code appears. Most status codes bounce off a moving paddle, while others like a 404 or 403 status code continue through. This visual difference between good status codes and not so good status codes is one of the main benefits of using the visual tool, in my humble opinion. Some other benefits are the size of the ball, amount of hosts on the left side, and amount of resources used per host being represented by the total count of balls flying around.</p>

<h2 id="installing-on-mac-os-x">Installing on Mac OS X</h2>

<p>Here are the steps necessary for building <a href="https://code.google.com/p/logstalgia/">logstalgia</a></p>

<h3 id="the-short-summary">The short summary</h3>
<ol>
  <li>Install brew</li>
  <li>Install the necessary recipies using brew</li>
  <li>Download <a href="/public/files/logstalgia-1.0.3.tar.gz">logstalgia</a></li>
  <li>Run <code>./configure</code></li>
  <li>Run <code>make</code></li>
</ol>

<h3 id="straight-up-commands-after-installing-brew">Straight up commands (after installing brew)</h3>

<pre><code>:::shell
(cd to the logstalgia source directory)
brew install ftgl
brew install sdl
brew install sdl_image
brew install pcre
brew install libpng
brew install jpeg
./configure
make
./logstalgia data/example.log
</code></pre>

<h2 id="running-logstalgia">Running logstalgia</h2>
<p>### </p>

<h1 id="gltail">Gltail</h1>
<p>## Summary
Built on ruby makes this project a little easier to install. It helps if you have the <a href="http://rvm.io">RVM</a> manager installed because there is a <code>.rvm</code> folder inside the main directory of gltail. The <code>.rvm</code> folder switches over to Ruby 1.9.2-p290 when changing directories. Its really great when that all works out after you are prompted to trust the <code>.rvm</code> folder. Features about this visualizer is its customization, pulling from multiple log files from multiple hosts, defining the layout, and visual attributes. Its very similar to logstalgia, but with greater configuration.</p>

<h2 id="installing-on-mac-os-x-1">Installing on Mac OS X</h2>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-05-08T00:00:00-07:00"><a href="http://localhost:4000/articles/wordpress-without-wp-admin/">May 08, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://localhost:4000/articles/wordpress-without-wp-admin/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/articles/wordpress-without-wp-admin/" rel="bookmark" title="Removing wp-admin directory" itemprop="url">Removing wp-admin directory</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="removing-wp-admin-directory">Removing wp-admin directory</h1>

<p>While having the wp-admin directory is helpful, on a production environment there is no need to have these files available by the web server. So I started to move the files out. </p>

<h2 id="what-happened-first">What happened first</h2>

<p>When I moved the folder wp-admin out of the Wordpress folder the entire site went blank. Not a good start.</p>

<h2 id="the-wp-adminincludes-folder">The ‘./wp-admin/includes’ folder</h2>

<p>While looking around the wp-admin directory I noticed the ‘includes’ folder. So I made a folder structure of ‘./wp-admin/includes/’ and I moved all of the files that were in the includes directory back into the proper place. When I refreshed the site, it came back!</p>

<h2 id="now-what-files-do-you-need">Now, what files do you need?</h2>

<p>After moving the files out of the includes directory, I was able to find 4 key files that seemed to be required.</p>

<ul>
  <li>class-wp-list-table.php</li>
  <li>class-wp-media-list-table.php</li>
  <li>class-wp-ms-sites-list-table.php</li>
  <li>class-wp-ms-themes-list-table.php</li>
</ul>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-05-08T00:00:00-07:00"><a href="http://localhost:4000/articles/verify-redirects-with-ruby/">May 08, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://localhost:4000/articles/verify-redirects-with-ruby/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/articles/verify-redirects-with-ruby/" rel="bookmark" title="Using Ruby to check redirects" itemprop="url">Using Ruby to check redirects</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="using-ruby-to-check-redirects">Using Ruby to check redirects</h1>

<p>While writing the script, I first stared out with net/http. This was going pretty slow and when I had 1900+ urls to verify, I calculated it would take approximately 2 hours to complete. While that was acceptable I found out that a lot of links were broken which translated into running this script more than 10 times to re-verify. So I did some searching around and found the gem “typhoeus”. Very cool gem indeed. This made things go much faster. I included both snippets of code in my script to show progression and for note gathering.</p>

<p>Here is my code:</p>

<pre class="eiffel"><span class="Keyword">require</span> <span class="String"><span class="String">&#39;</span>uri<span class="String">&#39;</span></span>
<span class="Keyword">require</span> <span class="String"><span class="String">&#39;</span>net/http<span class="String">&#39;</span></span>
<span class="Keyword">require</span> <span class="String"><span class="String">&#39;</span>csv<span class="String">&#39;</span></span>
<span class="Keyword">require</span> <span class="String"><span class="String">&#39;</span>typhoeus<span class="String">&#39;</span></span>

<span class="Comment"><span class="Comment">#</span> =====================================================================</span>
<span class="Comment"><span class="Comment">#</span> = Check_Redirection.rb =</span>
<span class="Comment"><span class="Comment">#</span> </span>
<span class="Comment"><span class="Comment">#</span> Verify urls for redirection by comparing the old url to the new url</span>
<span class="Comment"><span class="Comment">#</span></span>
<span class="Comment"><span class="Comment">#</span></span>
<span class="Comment"><span class="Comment">#</span> CSV format:</span>
<span class="Comment"><span class="Comment">#</span> old_url,new_url</span>
<span class="Comment"><span class="Comment">#</span> </span>
<span class="Comment"><span class="Comment">#</span> Expected output:</span>
<span class="Comment"><span class="Comment">#</span> status,old_url,new_url</span>
<span class="Comment"><span class="Comment">#</span> =====================================================================</span>


<span class="Comment"><span class="Comment">#</span> =======================================</span>
<span class="Comment"><span class="Comment">#</span> = The new way with typhoeus and hydra =</span>
<span class="Comment"><span class="Comment">#</span> =======================================</span>
hydra <span class="Keyword">=</span> <span class="LibraryObject">Typhoeus</span>::<span class="FunctionName">Hydra</span>.<span class="FunctionName">new</span>(<span class="UserDefinedConstant"><span class="UserDefinedConstant">:</span>max_concurrency</span> =&gt; <span class="Number">5</span>)

<span class="Variable">CSV</span>.<span class="FunctionName">open</span>(<span class="String"><span class="String">&quot;</span>redirects.csv<span class="String">&quot;</span></span>).<span class="FunctionName">each</span> <span class="Keyword">do </span>|<span class="Variable">row</span>|
<span class="Comment">  <span class="Comment">#</span> by using followlocation, we can use the response_code to validate the redirect</span>
  request <span class="Keyword">=</span> <span class="LibraryObject">Typhoeus</span>::<span class="FunctionName">Request</span>.<span class="FunctionName">new</span>(row[<span class="Number">0</span>], followlocation: <span class="BuiltInConstant">true</span>)
  
  request.<span class="FunctionName">on_complete</span> <span class="Keyword">do </span>|<span class="Variable">response</span>|
    <span class="Keyword">if</span> response.<span class="FunctionName">response_code</span> <span class="Keyword">==</span> <span class="Number">200</span>
      puts <span class="String"><span class="String">&quot;</span>Working,<span class="StringInterpolation"><span class="StringInterpolation">#{</span>row<span class="StringInterpolation">[</span><span class="Number">0</span><span class="StringInterpolation">]</span><span class="StringInterpolation">}</span></span>,<span class="StringInterpolation"><span class="StringInterpolation">#{</span>row<span class="StringInterpolation">[</span><span class="Number">1</span><span class="StringInterpolation">]</span><span class="StringInterpolation">}</span></span><span class="String">&quot;</span></span>
    <span class="Keyword">else</span>
      puts <span class="String"><span class="String">&quot;</span>Broken,<span class="StringInterpolation"><span class="StringInterpolation">#{</span>row<span class="StringInterpolation">[</span><span class="Number">0</span><span class="StringInterpolation">]</span><span class="StringInterpolation">}</span></span>,<span class="StringInterpolation"><span class="StringInterpolation">#{</span>row<span class="StringInterpolation">[</span><span class="Number">1</span><span class="StringInterpolation">]</span><span class="StringInterpolation">}</span></span><span class="String">&quot;</span></span>
    <span class="Keyword">end</span>
  <span class="Keyword">end</span>  
  hydra.<span class="FunctionName">queue</span>(request)
<span class="Keyword">end</span>

hydra.<span class="FunctionName">run</span>


<span class="Comment"><span class="Comment">#</span> ==========================</span>
<span class="Comment"><span class="Comment">#</span> = The test with typhoeus =</span>
<span class="Comment"><span class="Comment">#</span> ==========================</span>
results <span class="Keyword">=</span> <span class="LibraryObject">Typhoeus</span>::<span class="FunctionName">Request</span>.<span class="FunctionName">get</span>(<span class="String"><span class="String">&quot;</span>http://google.com<span class="String">&quot;</span></span>)
puts results.<span class="FunctionName">response_code</span>

<span class="Keyword">if</span> results.<span class="FunctionName">effective_url</span> <span class="Keyword">==</span> <span class="String"><span class="String">&quot;</span>http://google.com<span class="String">&quot;</span></span>
  puts <span class="String"><span class="String">&quot;</span>GOOD - should be <span class="StringInterpolation"><span class="StringInterpolation">#{</span>results<span class="StringInterpolation"><span class="StringInterpolation">.</span><span class="FunctionName">effective_url</span></span><span class="StringInterpolation">}</span></span><span class="String">&quot;</span></span>
<span class="Keyword">else</span>
  puts <span class="String"><span class="String">&quot;</span>BAD - should be <span class="StringInterpolation"><span class="StringInterpolation">#{</span>results<span class="StringInterpolation"><span class="StringInterpolation">.</span><span class="FunctionName">effective_url</span></span><span class="StringInterpolation">}</span></span><span class="String">&quot;</span></span>
<span class="Keyword">end</span>


<span class="Comment"><span class="Comment">#</span> =============================</span>
<span class="Comment"><span class="Comment">#</span> = The old way with net/http =</span>
<span class="Comment"><span class="Comment">#</span> =============================</span>
<span class="Keyword">def</span> <span class="FunctionName">fetch</span>(<span class="FunctionParameter">uri_str<span class="FunctionParameter">,</span> limit <span class="Keyword">=</span> <span class="Number">10</span></span>)
<span class="Comment">  <span class="Comment">#</span> You should choose a better exception.</span>
  <span class="Keyword">raise</span> <span class="Variable">ArgumentError</span>, <span class="String"><span class="String">&#39;</span>too many HTTP redirects<span class="String">&#39;</span></span> <span class="Keyword">if</span> limit <span class="Keyword">==</span> <span class="Number">0</span>
  response <span class="Keyword">=</span> <span class="LibraryObject">Net</span>::<span class="FunctionName">HTTP</span>.<span class="FunctionName">get_response</span>(<span class="Variable">URI</span>(uri_str))
  <span class="Keyword">case</span> response
  <span class="Keyword">when</span> <span class="LibraryObject">Net</span>::<span class="FunctionName">HTTPSuccess</span> <span class="Keyword">then</span>
    response
  <span class="Keyword">when</span> <span class="LibraryObject">Net</span>::<span class="FunctionName">HTTPRedirection</span> <span class="Keyword">then</span>
    location <span class="Keyword">=</span> response[<span class="String"><span class="String">&#39;</span>location<span class="String">&#39;</span></span>]
<span class="Comment">    <span class="Comment">#</span> print redirect</span>
    redirected_to <span class="Keyword">=</span> location
    <span class="FunctionName">fetch</span>(location, limit <span class="Keyword">-</span> <span class="Number">1</span>)
    <span class="Keyword">return</span> redirected_to
  <span class="Keyword">else</span>
    response.<span class="FunctionName">value</span>
  <span class="Keyword">end</span>
<span class="Keyword">end</span>

<span class="Comment"><span class="Comment">#</span> test one url</span>
print <span class="FunctionName">fetch</span>(<span class="String"><span class="String">&#39;</span>http://www.ruby-lang.org<span class="String">&#39;</span></span>)

<span class="Comment"><span class="Comment">#</span> test urls from csv file</span>
<span class="Variable">CSV</span>.<span class="FunctionName">open</span>(<span class="String"><span class="String">&quot;</span>redirects.csv<span class="String">&quot;</span></span>).<span class="FunctionName">each</span> <span class="Keyword">do </span>|<span class="Variable">row</span>|
  <span class="Keyword">begin</span>
    fetching <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span><span class="StringInterpolation"><span class="StringInterpolation">#{</span>row<span class="StringInterpolation">[</span><span class="Number">0</span><span class="StringInterpolation">]</span><span class="StringInterpolation">}</span></span>,<span class="StringInterpolation"><span class="StringInterpolation">#{</span>row<span class="StringInterpolation">[</span><span class="Number">1</span><span class="StringInterpolation">]</span><span class="StringInterpolation">}</span></span><span class="String">&quot;</span></span>
    redirected_to <span class="Keyword">=</span> <span class="FunctionName">fetch</span>(row[<span class="Number">0</span>])
<span class="Comment">    <span class="Comment">#</span> if redirected_to == row[1]</span>
<span class="Comment">    <span class="Comment">#</span>   puts &quot;Working,#{fetching}&quot;</span>
<span class="Comment">    <span class="Comment">#</span> end</span>
  <span class="Keyword">rescue</span> <span class="LibraryObject">Net</span>::<span class="FunctionName">HTTPServerException</span>
    puts <span class="String"><span class="String">&quot;</span>Broken,<span class="StringInterpolation"><span class="StringInterpolation">#{</span>fetching<span class="StringInterpolation">}</span></span><span class="String">&quot;</span></span>
  <span class="Keyword">end</span>
<span class="Keyword">end</span></pre>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    
      <a href="http://localhost:4000" class="btn">Previous</a>
    
  
  <ul class="inline-list">
    <li>
      
        <a href="http://localhost:4000">1</a>
      
    </li>
    
      <li>
        
          <span class="current-page">2</span>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page3">3</a>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page4">4</a>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page5">5</a>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page6">6</a>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page7">7</a>
        
      </li>
    
  </ul>
  
    <a href="http://localhost:4000/page3" class="btn">Next</a>
  
</div><!-- /.pagination -->
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Aaron Addleman. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>

          

</body>
</html>