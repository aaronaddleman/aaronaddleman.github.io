<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Philomathy &#8211; Aaron Addleman</title>
<meta name="description" content="The blog by Aaron Addleman">
<meta name="keywords" content="">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/11788942253_6c55c0f770_o.jpg">

<meta name="twitter:title" content="Philomathy">
<meta name="twitter:description" content="The blog by Aaron Addleman">
<meta name="twitter:creator" content="@aaronaddleman">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Philomathy">
<meta property="og:description" content="The blog by Aaron Addleman">
<meta property="og:url" content="/page6/index.html">
<meta property="og:site_name" content="Aaron Addleman">





<link rel="canonical" href="/page6/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Aaron Addleman Feed">
<link rel="author" href="aaronaddleman?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/css/uv/eiffel.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/avatar.jpg" alt="Aaron Addleman photo" class="author-photo">
					<h4>Aaron Addleman</h4>
					<p>Nerd and geek with passion for learning and exploring.</p>
				</li>
				<li><a href="/about/">Learn More</a></li>
				<li>
					<a href="mailto:aaronaddleman@gmail.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/aaronaddleman"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://facebook.com/aaronaddleman"><i class="fa fa-facebook"></i> Facebook</a>
				</li>
				<li>
					<a href="aaronaddleman"><i class="fa fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="http://linkedin.com/pub/aaron-addleman/0/428/276"><i class="fa fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/aaronaddleman"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">All Posts</a></li>
				<li><a href="/tags/">All Tags</a></li>
			</ul>
		</li>
		<li><a href="/resume">Resume</a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="">Aaron Addleman</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="/images/11788942253_6c55c0f770_o.jpg" alt="Philomathy">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Aaron Addleman</h1>
      <h2>Philomathy</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-08-20T00:00:00-07:00"><a href="/articles/backup_ee_environments/">August 20, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="/articles/backup_ee_environments/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/articles/backup_ee_environments/" rel="bookmark" title="No frills shell script to backup multiple environments with a database dump" itemprop="url">No frills shell script to backup multiple environments with a database dump</a></h1>
    
  </header>
  <div class="entry-content">
    
<pre class="eiffel"><span class="Comment"><span class="Comment">#</span>!/usr/bin/env bash</span>

<span class="Comment"><span class="Comment">#</span> usage:</span>
<span class="Comment"><span class="Comment">#</span> </span>
<span class="Comment"><span class="Comment">#</span> ./backup_ee.sh (dev|prod|stage)</span>

function <span class="FunctionName">backup_site</span> () {
	echo <span class="String"><span class="String">&quot;</span>mkdir -p <span class="Variable"><span class="Variable">$</span>backup_dir</span><span class="String">&quot;</span></span>
	archive_name=<span class="String"><span class="String">`</span>basename $backup_file<span class="String">`</span></span>
	echo <span class="String"><span class="String">&quot;</span>Archiving: <span class="Variable"><span class="Variable">$</span>1</span> (<span class="Variable"><span class="Variable">$</span>backup_file</span> to <span class="Variable"><span class="Variable">$</span>backup_dir</span>/<span class="Variable"><span class="Variable">$</span>archive_name</span>)<span class="String">&quot;</span></span>
	echo <span class="String"><span class="String">&quot;</span>tar pzcvf <span class="Variable"><span class="Variable">$</span>backup_dir</span>/<span class="Variable"><span class="Variable">$</span>archive_name</span>.tar --totals <span class="Variable"><span class="Variable">$</span>backup_file</span><span class="String">&quot;</span></span>
	echo <span class="String"><span class="String">&quot;</span>Compressing: <span class="Variable"><span class="Variable">$</span>1</span> (<span class="Variable"><span class="Variable">$</span>backup_file</span> to <span class="Variable"><span class="Variable">$</span>backup_dir</span>/<span class="Variable"><span class="Variable">$</span>archive_name</span>)<span class="String">&quot;</span></span>
	echo <span class="String"><span class="String">&quot;</span>gzip <span class="Variable"><span class="Variable">$</span>backup_dir</span>/<span class="Variable"><span class="Variable">$</span>archive_name</span>.tar<span class="String">&quot;</span></span>
	echo <span class="String"><span class="String">&quot;</span>mysqldump -u <span class="Variable"><span class="Variable">$</span>backup_db_user</span> -p<span class="Variable"><span class="Variable">$</span>backup_db_pass</span> <span class="Variable"><span class="Variable">$</span>backup_dv</span> &gt; <span class="Variable"><span class="Variable">$</span>backup_dir</span>/<span class="Variable"><span class="Variable">$</span>backup_db</span>.sql<span class="String">&quot;</span></span>
}


function <span class="FunctionName">site</span> () {
	<span class="Keyword">case</span> <span class="Variable"><span class="Variable">$</span>1</span> <span class="Keyword">in</span>
		dev )
		<span class="Comment"><span class="Comment">#</span>backup dev</span>
		backup_file=<span class="String"><span class="String">&quot;</span>/var/www/dev<span class="String">&quot;</span></span>
		backup_db=<span class="String"><span class="String">&quot;</span>db_name<span class="String">&quot;</span></span>
		backup_db_user=<span class="String"><span class="String">&quot;</span>db_user<span class="String">&quot;</span></span>
		backup_db_pass=<span class="String"><span class="String">&quot;</span>db_pass<span class="String">&quot;</span></span>
		backup_site
			<span class="Keyword">;</span><span class="Keyword">;</span>
		prod )
		<span class="Comment"><span class="Comment">#</span>backup prod</span>
		backup_file=<span class="String"><span class="String">&quot;</span>/var/www/prod<span class="String">&quot;</span></span>
		backup_db=<span class="String"><span class="String">&quot;</span>db_name<span class="String">&quot;</span></span>
		backup_db_user=<span class="String"><span class="String">&quot;</span>db_user<span class="String">&quot;</span></span>
		backup_db_pass=<span class="String"><span class="String">&quot;</span>db_pass<span class="String">&quot;</span></span>
		backup_site
			<span class="Keyword">;</span><span class="Keyword">;</span>
		stage )
		<span class="Comment"><span class="Comment">#</span>backup stage</span>
		backup_file=<span class="String"><span class="String">&quot;</span>/var/www/stage<span class="String">&quot;</span></span>
		backup_db=<span class="String"><span class="String">&quot;</span>db_name<span class="String">&quot;</span></span>
		backup_db_user=<span class="String"><span class="String">&quot;</span>db_user<span class="String">&quot;</span></span>
		backup_db_pass=<span class="String"><span class="String">&quot;</span>db_pass<span class="String">&quot;</span></span>
		backup_site
			<span class="Keyword">;</span><span class="Keyword">;</span>
	<span class="Keyword">esac</span>
}

<span class="Comment"><span class="Comment">#</span> get backup selection from input</span>
backup_selection=<span class="Variable"><span class="Variable">$</span>1</span>

<span class="Comment"><span class="Comment">#</span> set backup destination</span>
backup_dir=<span class="String"><span class="String">&quot;</span>/home/path/to/backups/<span class="Variable"><span class="Variable">$</span>backup_selection</span>/<span class="String"><span class="String">`</span>date +%Y-%m-%d-%H-%M-%S<span class="String">`</span></span><span class="String">&quot;</span></span>

<span class="Comment"><span class="Comment">#</span> execute backup</span>
site <span class="Variable"><span class="Variable">$</span>backup_selection</span></pre>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-07-26T00:00:00-07:00"><a href="/articles/puppet-summaries/">July 26, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="/articles/puppet-summaries/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/articles/puppet-summaries/" rel="bookmark" title="Puppet Cheatsheet" itemprop="url">Puppet Cheatsheet</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="puppet-cheatsheet">Puppet Cheatsheet</h1>

<p>I really like puppet and there seems like lots to learn. This article is the home of all the examples and methods for managing changes to puppet.</p>

<h2 id="apply-a-single-manifest">Apply a single manifest</h2>

<pre><code>:::shell
  %&gt; puppet apply my_test_manifest.pp
</code></pre>

<h2 id="file-resource">File resource</h2>

<pre><code>:::ruby
file {'testfile':
      path    =&gt; '/tmp/testfile',
      ensure  =&gt; present,
      mode    =&gt; 0640,
      content =&gt; "I'm a test file.",
    }
</code></pre>

<h2 id="user-resource">User resource</h2>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-07-10T00:00:00-07:00"><a href="/articles/quick-permissions-summary-reporting/">July 10, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="/articles/quick-permissions-summary-reporting/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/articles/quick-permissions-summary-reporting/" rel="bookmark" title="Quick Permissions Reporting" itemprop="url">Quick Permissions Reporting</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="quick-permissions-reporting">Quick Permissions Reporting</h1>

<p>While in a directory and you are changing permissions, its really helpful to get a summarized report of all permissions used on the files. If you find a bunch of files have a permission of 777 it might be worth filtering them out and taking a closer look at options of being less permissive.</p>

<h2 id="summary-of-permissions">Summary of permissions</h2>

<p>The first command I came up with lists sorts the permissions then gets a count of each type which is useful for looking at the list in order of permissive. The lower number is a lower permission mode (at the top of the list) and the items going down progressively get more permissive.</p>

<pre><code>:::shell
  %&gt; find . -type f -exec stat -c "%a" {} \; | sort | uniq -c
</code></pre>

<h2 id="summary-of-permissions-sorted-by-count">Summary of permissions sorted by count</h2>

<p>This is command is pretty much the same as above but with some extra sorting to find the popular type of permissions (sorted by the uniqueness count):</p>

<pre><code>:::shell
  %&gt; find . -type f -exec stat -c "%a" {} \; | sort | uniq -c
</code></pre>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-07-09T00:00:00-07:00"><a href="/articles/using-nokogiri/">July 09, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="/articles/using-nokogiri/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/articles/using-nokogiri/" rel="bookmark" title="Nokogiri" itemprop="url">Nokogiri</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="nokogiri">Nokogiri</h1>

<h2 id="sample-data">Sample Data</h2>

<pre><code>[employees.xml]
&lt;employees&gt;
  &lt;employee status="active"&gt;
    &lt;fullname&gt;Dean Martin&lt;/fullname&gt;
  &lt;/employee&gt;
  &lt;employee status="inactive"&gt;
    &lt;fullname&gt;Jerry Lewis&lt;/fullname&gt;
  &lt;/employee&gt;
  &lt;employee status="inactive"&gt;
    &lt;fullname&gt;Ab Martin&lt;/fullname&gt;
  &lt;/employee&gt;
&lt;/employees&gt;
EOXML
</code></pre>

<h2 id="nokogiri-example">Nokogiri example</h2>

<pre lang="ruby" class="highlight">
  require 'nokogiri'

  f = File.open("employees.xml")
  doc = Nokogiri::XML(f)
  
  
  # navigate!
  doc.employees.employee.last.fullname.content # =&gt; "Jerry Lewis"

  # access node attributes!
  doc.employees.employee.first["status"] # =&gt; "active"

  # use some xpath!
  doc.employees.employee("[@status='active']").fullname.content # =&gt; "Dean Martin"
  doc.employees.employee(:xpath =&gt; "@status='active'").fullname.content # =&gt; "Dean Martin"

  # use some css!
  doc.employees.employee("[status='active']").fullname.content # =&gt; "Dean Martin"
  doc.employees.employee(:css =&gt; "[status='active']").fullname.content # =&gt; "Dean Martin"
  
  f.close
</pre>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2012-07-02T00:00:00-07:00"><a href="/articles/openldap-and-ppolicy/">July 02, 2012</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Aaron Addleman">Aaron Addleman</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="/articles/openldap-and-ppolicy/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/articles/openldap-and-ppolicy/" rel="bookmark" title="OpenLDAP and ppolicy" itemprop="url">OpenLDAP and ppolicy</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Flags: draft
<!-- Read more: Read more --></p>

<h1 id="openldap-and-ppolicy">OpenLDAP and ppolicy</h1>

<p>After installing OpenLDAP and having Apache2 authenticate to OpenLDAP, it was time to bring in password policy. First up is getting the slapd.conf file to be like the following:</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    
      <a href="/page5" class="btn">Previous</a>
    
  
  <ul class="inline-list">
    <li>
      
        <a href="">1</a>
      
    </li>
    
      <li>
        
          <a href="/page2">2</a>
        
      </li>
    
      <li>
        
          <a href="/page3">3</a>
        
      </li>
    
      <li>
        
          <a href="/page4">4</a>
        
      </li>
    
      <li>
        
          <a href="/page5">5</a>
        
      </li>
    
      <li>
        
          <span class="current-page">6</span>
        
      </li>
    
      <li>
        
          <a href="/page7">7</a>
        
      </li>
    
  </ul>
  
    <a href="/page7" class="btn">Next</a>
  
</div><!-- /.pagination -->
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Aaron Addleman. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>

          

</body>
</html>