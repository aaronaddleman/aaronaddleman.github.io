---
layout: post
title: "Installing Nokgiri"
description: "Sometimes you need an older versino of nokogiri"
tags: [sysadmin]
image:
  feature: IMG_0566.JPG
  credit: Aaron Addleman
comments: true
share: true
---

## What

How to install nokogiri.

## Why
Keep things nice a tidy for testing cookbooks and chef releases. Also, for some reason, Nokogiri is hard to install and is causing problems.

## How
### To install nokogiri when you get an error

for rhel linux:

{% highlight bash %}
bundle config build.nokogiri "--use-system-libraries=true --with-xml2-include=/usr/include/libxml2/"
{% endhighlight %}

if for some reason this does not work, run the following:

{% highlight bash %}
gem install nokogiri -v '1.6.6.2' -- "--use-system-libraries=true --with-xml2-include=/usr/include/libxml2/"
{% endhighlight %}
     
then install!

{% highlight bash %}
bundle install
{% endhighlight %}

for mac:

{% highlight bash %}
brew install libxml2
bundle config build.nokogiri "--use-system-libraries --with-xml2-include=/usr/local/opt/libxml2/include/libxml2"
{% endhighlight %}

bundle install OR chef exec bundle install
